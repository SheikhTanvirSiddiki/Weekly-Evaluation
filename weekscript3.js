import{initializeApp}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";import{getDatabase,ref,push}from"https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";function checkAuthentication(){localStorage.getItem("authenticated")||(window.location.href="https://weeklyevaluation.vercel.app/")}window.onload=checkAuthentication;const firebaseConfig={apiKey:"AIzaSyDVuzE5w57dW6pqrvYvIVR9c9XR9sqkDN4",authDomain:"weeklyevaluation.firebaseapp.com",databaseURL:"https://weeklyevaluation-default-rtdb.firebaseio.com",projectId:"weeklyevaluation",storageBucket:"weeklyevaluation.appspot.com",messagingSenderId:"865170668803",appId:"1:865170668803:web:f32d3b76b6d79dfc48046c"},app=initializeApp(firebaseConfig),database=getDatabase(app);function showAlert(e,t){const n=document.getElementById("custom-alert");n.className="alert alert-"+t,document.getElementById("alert-message").innerText=e,n.style.display="block",setTimeout((()=>{n.style.display="none"}),3e3)}document.getElementById("result-form").addEventListener("submit",(function(e){e.preventDefault();const t=document.getElementById("batch").value,n=document.getElementById("name").value,a=document.getElementById("marks").value,o=document.getElementById("comments").value,s=document.getElementById("custom-comment").value;if("None"===t)return void showAlert("দয়া করে একটি ব্যাচ সিলেক্ট করুন।","danger");document.getElementById("loader-background").style.display="block",document.getElementById("loader").style.display="block",document.getElementById("main-content").classList.add("loading");const d=ref(database,"results");push(d,{batch:t,name:n,marks:a,comments:"custom"===o?s:o}).then((()=>{document.getElementById("loader-background").style.display="none",document.getElementById("loader").style.display="none",document.getElementById("main-content").classList.remove("loading"),showAlert("রেজাল্ট সফলভাবে সাবমিট হয়েছে!","success"),document.getElementById("result-form").reset()})).catch((e=>{document.getElementById("loader-background").style.display="none",document.getElementById("loader").style.display="none",document.getElementById("main-content").classList.remove("loading"),showAlert("রেজাল্ট সাবমিট করতে সমস্যা হয়েছে: "+e.message,"danger")}))})),document.getElementById("close-alert").addEventListener("click",(function(){document.getElementById("custom-alert").style.display="none"})),document.getElementById("comments").addEventListener("change",(function(){const e=document.getElementById("custom-comment");"custom"===this.value?(e.style.display="block",e.required=!0):(e.style.display="none",e.required=!1)})),document.addEventListener("contextmenu",(function(e){e.preventDefault()})),document.addEventListener("keydown",(function(e){("F12"===e.key||e.ctrlKey&&e.shiftKey&&("I"===e.key||"C"===e.key)||e.ctrlKey&&"U"===e.key)&&e.preventDefault()}));