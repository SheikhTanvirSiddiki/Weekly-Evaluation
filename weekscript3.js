import{initializeApp}from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js';import{getDatabase,ref,push,set}from 'https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js';const firebaseConfig={apiKey:'AIzaSyDVuzE5w57dW6pqrvYvIVR9c9XR9sqkDN4',authDomain:'weeklyevaluation.firebaseapp.com',databaseURL:'https://weeklyevaluation-default-rtdb.firebaseio.com',projectId:'weeklyevaluation',storageBucket:'weeklyevaluation.appspot.com',messagingSenderId:'865170668803',appId:'1:865170668803:web:9804cdc685aadcc9283d36',measurementId:'G-ST6P9PV1WV'};const app=initializeApp(firebaseConfig);const database=getDatabase(app);function showCustomAlert(message,success=!0){const alertBox=document.getElementById("custom-alert");const alertMessage=document.getElementById("alert-message");alertMessage.textContent=message;if(success){alertBox.classList.remove("alert-danger");alertBox.classList.add("alert-success")}else{alertBox.classList.remove("alert-success");alertBox.classList.add("alert-danger")}
alertBox.style.display="block"}
document.getElementById("close-alert").addEventListener("click",function(){document.getElementById("custom-alert").style.display="none"});document.getElementById('result-form').addEventListener('submit',function(event){event.preventDefault();const selectedBatch=document.getElementById('batch').value;const name=document.getElementById('name').value.trim();const marks=document.getElementById('marks').value.trim();const comments=document.getElementById('comments').value.trim();if(selectedBatch==='None'){showCustomAlert('দয়া করে একটি ব্যাচ সিলেক্ট করুন।',!1);return}
if(!name){showCustomAlert('দয়া করে আপনার নাম প্রবেশ করুন।',!1);return}
if(isNaN(marks)||marks<0){showCustomAlert('দয়া করে সঠিক মার্কস প্রবেশ করুন।',!1);return}
const resultData={batch:selectedBatch,name:name,marks:convertToBengaliNumbers(marks),comments:comments||null};const resultRef=push(ref(database,'results'));set(resultRef,resultData).then(()=>{console.log('Result submitted successfully');showCustomAlert('রেজাল্ট সফলভাবে সাবমিট হয়েছে!',!0);document.getElementById('result-form').reset()}).catch(error=>{console.error('Error submitting result: ',error);showCustomAlert('রেজাল্ট সাবমিট করতে সমস্যা হয়েছে।',!1)})});function convertToBengaliNumbers(number){const bengaliDigits=['০','১','২','৩','৪','৫','৬','৭','৮','৯'];return number.toString().split('').map(digit=>bengaliDigits[digit]).join('')}
document.addEventListener('contextmenu',function(event){event.preventDefault();showCustomAlert('Right-click is disabled!',!1)});document.addEventListener('keydown',function(event){if(event.key==='F12'){event.preventDefault();showCustomAlert('Developer tools are disabled!',!1)}})